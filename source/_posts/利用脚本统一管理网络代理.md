---
title: åˆ©ç”¨è„šæœ¬ç»Ÿä¸€ç®¡ç†ç½‘ç»œä»£ç†
date: 2019-06-01 22:16:14
tags:
- è¿ç»´
- MACç³»ç»Ÿ
- è„šæœ¬
---
# é€šè¿‡shellè„šæœ¬æ”¹å˜ä»£ç†

## èƒŒæ™¯

macç³»ç»Ÿä¸‹ï¼Œç”¨ssrèƒ½å¤Ÿè‡ªåŠ¨è®¾ç½®socksçš„ä»£ç†ï¼Œä½†æ˜¯å‘ç°googleäº‘ç›˜ç­‰åº”ç”¨å¿…é¡»è¦è®¾ç½®httpsæˆ–è€…httpä»£ç†æ‰èƒ½å¤Ÿä½¿ç”¨ã€‚

æ¯æ¬¡è¿›è¡Œæ‰‹åŠ¨åœ¨```ç³»ç»Ÿä¾¿å¥½è®¾ç½®->ç½‘ç»œ->é«˜çº§->ä»£ç†```è®¾ç½®ssrç­‰ä»£ç†åœ°å€æ¯”è¾ƒç¹çï¼Œå¹¶ä¸”ç½‘ç»œç¯å¢ƒä¸€å‘ç”Ÿæ”¹å˜å°±éœ€è¦é‡æ–°è®¾ç½®ã€‚

## Shellè„šæœ¬ç¼–å†™

### åˆ—å‡ºç½‘ç»œç¯å¢ƒ


    >>>networksetup -listallnetworkservices

    USB 10/100/1000 LAN
    Wi-Fi
    Bluetooth PAN
    Thunderbolt Bridge


æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„æ˜¯4ç§ï¼Œå…¶ä¸­å¸¸ç”¨çš„ä¸ºusbå’Œwifiä¸¤ç§

### é€šè¿‡å‘½ä»¤æ§åˆ¶ä»£ç†

    sudo networksetup -setwebproxy "Wi-Fi" 127.0.0.1 12333

__Wi-Fiä¸ºç½‘ç»œç±»å‹åç§°ï¼Œ127.0.0.1ä¸ºä»£ç†ipï¼Œ12333ä¸ºä»£ç†ç«¯å£ (ä»£ç†ipå’Œç«¯å£å¯ä»¥ä»ssr"_å¤åˆ¶httpä»£ç†è®¾ç½®_"ä¸­è·å–)__

é€šè¿‡å›¾å½¢çª—å£å‘ç°ä»£ç ç”Ÿæ•ˆ

### Shellå®ç°è‡ªåŠ¨åŒ–

ç”±äºsudoæ¯æ¬¡éƒ½è¦è¾“å…¥å¯†ç ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

    echo "password" |sudo networksetup -setwebproxy "Wi-Fi" 127.0.0.1 12333

å°†å‰é¢è¾“å‡ºçš„ä¿¡æ¯ï¼Œç»™åé¢çš„ä»£ç 

äºæ˜¯æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š


    !/bin/bash

    echo "ğŸ¤“ Hello Boy! \nI have changed the PROXY for you"

    proxy_http_on(){
        echo "password" | sudo -S networksetup -setwebproxy "Wi-Fi" 127.0.0.1 12333
    }

    proxy_https_on(){
        echo "password" | sudo -S networksetup -setsecurewebproxy "Wi-Fi" 127.0.0.1 12333
    }

    proxy_all_on(){
        echo "password" | sudo -S networksetup -setwebproxy "Wi-Fi" 127.0.0.1 12333 && sudo -S networksetup -setsecurewebproxy "Wi-Fi" 127.0.0.1 12333
    }

    proxy_http_off(){
        echo "password" | sudo -S networksetup -setwebproxystate "Wi-Fi" off
    }

    proxy_https_off(){
        echo "password" | sudo -S networksetup -setsecurewebproxystate "Wi-Fi" off
    }

    proxy_all_off(){
        echo "password" | sudo -S networksetup -setwebproxystate "Wi-Fi" off && sudo -S networksetup -setsecurewebproxystate "Wi-Fi" off
    }

    proxy_lan_on(){
        echo "password" | sudo -S networksetup -setwebproxy "USB 10/100/1000 LAN" 127.0.0.1 12333 && sudo -S networksetup -setsecurewebproxy "USB 10/100/1000 LAN" 127.0.0.1 12333
    }

    proxy_lan_off(){
        echo "password" | sudo -S networksetup -setwebproxystate "USB 10/100/1000 LAN" off && sudo -S networksetup -setsecurewebproxystate "USB 10/100/1000 LAN" off
    }

    if [ "$1" = "httpon" ];then
        proxy_http_on
    elif [ "$1" = "httpson" ];then
        proxy_https_on
    elif [ "$1" = "allon" ];then
        proxy_all_on
    elif [ "$1" = "httpoff" ];then
        proxy_http_off
    elif [ "$1" = "httpsoff" ];then
        proxy_https_off
    elif [ "$1" = "alloff" ];then
        proxy_all_off
    elif [ "$1" = "lanon" ];then
        proxy_lan_on
    elif [ "$1" = "lanoff" ];then
        proxy_lan_off
    else
        printf "Usage: sh fileName.sh {httpon | httpson | allon | httpoff | httpsoff | alloff | lanon | lanoff}\n"
    fi


## æ›´åŠ ä¾¿æ·

ä½¿ç”¨.bash_profileæ–‡ä»¶è®¾ç½®ä¸€ä¸ªåˆ«åå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨ï¼Œä¸ºäº†ä¾¿æ·åªè®¾ç½®äº†`proxy_all_on/off`å’Œ`proxy_lan_on/off`ï¼š


    alias wifipon="sudo sh ~/Documents/Configs/proxyChange.sh allon"
    alias wifipoff="sudo sh ~/Documents/Configs/proxyChange.sh alloff"
    alias lanpon="sudo sh ~/Documents/Configs/proxyChange.sh lanon"
    alias lanpoff="sudo sh ~/Documents/Configs/proxyChange.sh lanoff"


